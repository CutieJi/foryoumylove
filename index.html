<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>For My Love</title>
  <link rel="shortcut icon" href="logo.png" type="image/x-icon">

  <link
    href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Montserrat:wght@400;500;600&display=swap"
    rel="stylesheet">

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Montserrat', sans-serif;
      background: linear-gradient(135deg, #ffd1dc, #ffb7c5);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      overflow-x: hidden;
      color: #8a1c4a;
    }

    /* Password Modal */
    .password-modal {
      position: fixed;
      inset: 0;
      background: rgba(255, 182, 193, 0.95);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 100;
      transition: opacity 0.5s ease;
      padding: 20px;
    }

    .password-content {
      background: white;
      padding: 25px;
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      text-align: center;
      width: 100%;
      max-width: 400px;
      animation: bounceIn 1s forwards;
    }

    .password-content h2 {
      font-family: 'Dancing Script', cursive;
      font-size: 2rem;
      margin-bottom: 15px;
      color: #d81b60;
    }

    .password-input {
      width: 100%;
      padding: 12px;
      border: 2px solid #ffb7c5;
      border-radius: 10px;
      margin-bottom: 15px;
      font-size: 1rem;
      text-align: center;
      outline: none;
      transition: border-color 0.3s;
    }

    .password-input:focus {
      border-color: #d81b60;
    }

    .submit-btn {
      background: #d81b60;
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 10px;
      cursor: pointer;
      font-size: 1rem;
      transition: background 0.3s, transform 0.2s;
      width: 100%;
      max-width: 200px;
    }

    .submit-btn:hover {
      background: #b71550;
      transform: scale(1.05);
    }

    /* Welcome Screen */
    .welcome-screen {
      position: fixed;
      inset: 0;
      background: linear-gradient(135deg, #ffd1dc, #ffb7c5);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 99;
      transition: opacity 0.8s ease;
      padding: 10px;
    }

    .welcome-message {
      font-family: 'Dancing Script', cursive;
      font-size: clamp(1.8rem, 5vw, 3rem);
      color: #d81b60;
      text-align: center;
      animation: pulse 2s infinite, float 3s ease-in-out infinite;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
    }

    /* Main Content */
    .container {
      width: 100%;
      max-width: 900px;
      padding: 20px;
      margin-top: 40px;
    }

    .tabs {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 25px;
    }

    .tab {
      background: rgba(255, 255, 255, 0.7);
      border: none;
      padding: 12px 18px;
      border-radius: 50px;
      cursor: pointer;
      font-size: 0.95rem;
      font-weight: 600;
      color: #d81b60;
      transition: all 0.3s ease;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      display: flex;
      align-items: center;
      gap: 6px;
      flex: 1 1 auto;
      justify-content: center;
    }

    .tab:hover {
      background: rgba(255, 255, 255, 0.9);
      transform: translateY(-3px);
    }

    .tab.active {
      background: white;
      color: #d81b60;
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
    }

    .content-area {
      background: white;
      border-radius: 20px;
      padding: 20px;
      min-height: 350px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      overflow: hidden;
    }

    .tab-content {
      display: none;
      animation: fadeIn 0.5s ease forwards;
    }

    .tab-content.active {
      display: block;
    }

    /* Love Letter Tab */
    .letter {
      padding: 20px;
      background: #fff5f7;
      border-radius: 15px;
      border: 2px dashed #ffb7c5;
      margin-bottom: 20px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .letter-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }

    .letter h3 {
      font-family: 'Dancing Script', cursive;
      font-size: 28px;
      color: #d81b60;
    }

    .letter-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.5s ease;
    }

    .letter.expanded .letter-content {
      max-height: 500px;
    }

    .comment-box {
      margin-top: 10px;
      display: flex;
      gap: 5px;
    }

    .comment-box input {
      flex: 1;
      padding: 8px;
      border: 2px solid #ffb7c5;
      border-radius: 10px;
      outline: none;
    }

    .comment-box button {
      padding: 8px 12px;
      border: none;
      background: #d81b60;
      color: white;
      border-radius: 8px;
      cursor: pointer;
    }

    .comment-list {
      margin-top: 10px;
      padding-left: 10px;
    }

    .comment-list p {
      background: #fce4ec;
      padding: 6px 10px;
      border-radius: 8px;
      margin-bottom: 5px;
      font-size: 0.9rem;
    }

    /* Music Tab */
    .song {
      background: #f8e8ee;
      padding: 12px;
      border-radius: 10px;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 12px;
      flex-wrap: wrap;
      cursor: pointer;
    }

    .song-info h4 {
      font-size: 1rem;
      margin-bottom: 3px;
    }

    .song-info p {
      color: #888;
      font-size: 0.9rem;
    }

    /* Notes Tab */
    .note {
      background: #fce4ec;
      padding: 12px;
      border-radius: 10px;
      margin-bottom: 10px;
      border-left: 4px solid #d81b60;
      font-size: 0.95rem;
    }

    /* Gallery Tab */
    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 15px;
    }

    .gallery-item {
      border-radius: 10px;
      overflow: hidden;
      height: 200px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease;
    }

    .gallery-item:hover {
      transform: scale(1.05);
    }

    .gallery-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    /* Decorative Elements */
    .heart,
    .teddy-bear {
      position: absolute;
      z-index: -1;
      opacity: 0.2;
      pointer-events: none;
    }

    .heart {
      color: #d81b60;
      font-size: 24px;
      animation: float 6s ease-in-out infinite;
    }

    .teddy-bear {
      font-size: 32px;
      animation: float 8s ease-in-out infinite;
    }


    /* Envelope Section */
    .mail-container {
      position: relative;
      width: 95%;
      max-width: 750px;
      height: 420px;
      perspective: 1000px;
      margin: 80px auto;
      cursor: pointer;
      margin-top: 5px;
      /* üîº itinaas ang envelope */
    }

    .envelope {
      position: relative;
      width: 100%;
      height: 100%;
      background: #fdd1dc;
      border-radius: 16px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
      overflow: hidden;
      transform-style: preserve-3d;
      transition: transform 1s ease;
    }

    .envelope-body {
      position: absolute;
      bottom: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(180deg, #ffdbe6, #ffc0cb);
      border-radius: 0 0 16px 16px;
      overflow: hidden;
      z-index: 1;
    }

    .envelope-flap {
      position: absolute;
      top: 0;
      width: 100%;
      height: 60%;
      background: linear-gradient(180deg, #ffb7c5, #ff99b9);
      clip-path: polygon(0 0, 50% 100%, 100% 0);
      transform-origin: top;
      transition: transform 1s ease-in-out;
      z-index: 2;
    }

    .letter-paper {
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%) translateY(100%);
      width: 92%;
      height: 85%;
      background: white;
      border-radius: 12px;
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
      padding: 25px;
      overflow-y: auto;
      transition: transform 1s ease-in-out, opacity 0.6s ease;
      opacity: 0;
      font-family: 'Montserrat', sans-serif;
      color: #8a1c4a;
      text-align: justify;
    }

    .letter-inner h3 {
      font-family: 'Dancing Script', cursive;
      color: #d81b60;
      font-size: 2rem;
      margin-bottom: 12px;
      text-align: center;
    }

    /* Opening Animation */
    .mail-open .envelope-flap {
      transform: rotateX(-180deg);
    }

    .mail-open .letter-paper {
      transform: translateX(-50%) translateY(-8%);
      opacity: 1;
    }

    /* ‚ú® Sparkle and Glow */
    .sparkle-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      overflow: visible;
      z-index: 5;
    }

    .sparkle {
      position: absolute;
      font-size: 22px;
      opacity: 0;
      animation: sparkleFall 1.5s ease-out forwards;
    }

    @keyframes sparkleFall {
      0% {
        transform: translateY(0) scale(0.5);
        opacity: 1;
      }

      80% {
        opacity: 1;
      }

      100% {
        transform: translateY(200px) scale(1.2);
        opacity: 0;
      }
    }

    /* üí¨ Comment Items */
    .comment-item {
      background: #fce4ec;
      padding: 8px 10px;
      border-radius: 10px;
      margin-bottom: 8px;
      font-size: 0.9rem;
      display: flex;
      flex-direction: column;
      word-wrap: break-word;
      overflow-wrap: break-word;
      max-width: 100%;
    }

    /* Message text */
    .comment-item p {
      margin: 0;
      color: #8a1c4a;
      line-height: 1.3;
      word-break: break-word;
    }

    /* ‚ÄúFrom‚Äù name - made smaller */
    .comment-item small {
      font-size: 0.75rem;
      color: #b71550;
      margin-top: 4px;
      align-self: flex-end;
      opacity: 0.8;
      word-break: break-word;
    }

    .comment-form {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      justify-content: center;
      align-items: center;
      margin-top: 10px;
    }

    /* üí¨ Comment form container */
    .comment-form {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      justify-content: center;
      align-items: center;
      margin-top: 10px;
      width: 100%;
      box-sizing: border-box;
    }

    /* Message input */
    #commentInput {
      flex: 1 1 180px;
      padding: 8px 10px;
      border-radius: 8px;
      border: 1px solid #f5b7c2;
      background-color: #fff0f5;
      color: #8a1c4a;
      font-size: 0.9rem;
      box-sizing: border-box;
    }

    /* Shorter "From" input */
    #fromInput {
      flex: 0 0 100px;
      padding: 8px 10px;
      border-radius: 8px;
      border: 1px solid #f5b7c2;
      background-color: #fff0f5;
      color: #b71550;
      font-size: 0.85rem;
      box-sizing: border-box;
    }

    /* Send button */
    #sendButton {
      padding: 8px 14px;
      background-color: #ff7fa8;
      color: white;
      border: none;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      transition: 0.3s;
      flex: 0 0 auto;
    }

    #sendButton:hover {
      background-color: #ff5f90;
    }

    /* üì± MOBILE FIX */
    @media (max-width: 600px) {
      .comment-form {
        flex-direction: column;
        align-items: stretch;
      }

      #commentInput,
      #fromInput,
      #sendButton {
        width: 100%;
        flex: 1 1 auto;
      }

      #sendButton {
        margin-top: 6px;
      }
    }


    /* Make the "From" input shorter */
    #fromInput {
      width: 120px;
      /* or adjust to 100px if you want it smaller */
      padding: 6px 8px;
      font-size: 0.85rem;
      border-radius: 8px;
      border: 1px solid #f5b7c2;
      background-color: #fff0f5;
      color: #b71550;
    }


    /* Timestamp text */
    .comment-item .time {
      font-size: 0.7rem;
      color: #a86a7c;
      margin-top: 3px;
      text-align: right;
      opacity: 0.7;
      word-break: break-word;
    }

    /* Delete button spacing fix */
    .comment-item button {
      align-self: flex-end;
      margin-bottom: 4px;
    }


    .mail-open .envelope {
      box-shadow: 0 0 35px rgba(255, 192, 203, 0.8),
        0 0 70px rgba(255, 105, 180, 0.5);
      transition: box-shadow 1s ease;
    }

    .envelope-instruction {
      text-align: center;
      font-family: 'Dancing Script', cursive;
      font-size: 1.6rem;
      color: #d81b60;
      margin-top: 10px;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0% {
        transform: scale(1);
      }

      50% {
        transform: scale(1.05);
      }

      100% {
        transform: scale(1);
      }
    }

    /* Animations */
    @keyframes bounceIn {
      0% {
        transform: scale(0.8);
        opacity: 0;
      }

      60% {
        transform: scale(1.05);
      }

      100% {
        transform: scale(1);
        opacity: 1;
      }
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes pulse {
      0% {
        transform: scale(1);
      }

      50% {
        transform: scale(1.05);
      }

      100% {
        transform: scale(1);
      }
    }

    @keyframes float {
      0% {
        transform: translateY(0px);
      }

      50% {
        transform: translateY(-10px);
      }

      100% {
        transform: translateY(0px);
      }
    }

    /* Responsive Adjustments */
    @media (max-width: 768px) {
      .container {
        padding: 15px;
      }

      .content-area {
        padding: 15px;
      }

      .letter h3 {
        font-size: 1.25rem;
      }

      .gallery {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 480px) {
      .tabs {
        flex-direction: column;
      }

      .tab {
        font-size: 0.85rem;
        padding: 10px;
      }

      .gallery {
        grid-template-columns: 1fr;
      }

      .welcome-message {
        font-size: 1.6rem;
      }

      .submit-btn {
        font-size: 0.9rem;
        padding: 10px;
      }


    }
  </style>

</head>

<body>
  <!-- Password Modal -->
  <div class="password-modal" id="passwordModal">
    <div class="password-content">
      <h2>Enter the secret code</h2>
      <input type="password" class="password-input" id="passwordInput" placeholder="Your birthday po like (july3)...">
      <button class="submit-btn" id="submitPassword">Enter</button>
    </div>
  </div>

  <!-- Welcome Screen -->
  <div class="welcome-screen" id="welcomeScreen">
    <h1 class="welcome-message">Welcome my crush, enjoy my confession for you</h1>
  </div>

  <!-- Main Content -->
  <div class="container" id="mainContent" style="display: none;">
    <div class="tabs">
      <button class="tab active" data-tab="love-letter">
        <span>‚ù§Ô∏è</span> Love Letter
      </button>
      <button class="tab" data-tab="music">
        <span>üéµ</span> Music
      </button>
      <button class="tab" data-tab="notes">
        <span>üìù</span> Notes
      </button>
      <button class="tab" data-tab="gallery">
        <span>üå∑</span> Gallery
      </button>
    </div>

    <div class="content-area">
      <div class="tab-content active" id="love-letter">
        <h2>Angelica'</h2>
        <!-- Envelope -->
        <div class="mail-container" id="mailContainer">
          <div class="envelope" id="envelope">
            <div class="envelope-flap"></div>
            <div class="envelope-body">
              <div class="letter-paper" id="letterPaper">
                <div class="letter-inner">
                  <h3>My Crush,</h3>
                  <p>
                    <strong>Hello Angelica,</strong>
                    Sorry kung medyo random ‚Äòtong message/letter na ‚Äòto. I know we haven't
                    known each other for a long time, pero gusto ko lang
                    sabihin ‚Äòto kasi matagal ko na rin gustong ilabas.<br><br>
                    Ever since naging classmates tayo, napapansin talaga kita.
                    Hindi lang dahil maganda ka, pero dahil parang may vibe ka
                    na nakakagaan ng araw. Kapag nakikita kita sa room, parang
                    automatic na gumagaan ‚Äòyung mood ko kahit hindi naman tayo nag-uusap.<br><br>
                    Alam ko baka weird kasi hindi pa tayo close, pero gusto ko
                    lang maging honest, may gusto ako sa‚Äôyo. Hindi ko naman agad
                    hinihingi na magustuhan mo rin ako, gusto ko lang sana makilala ka pa.
                    Kahit simpleng ‚Äúhi‚Äù or kaunting kwentuhan lang, ayos na sa‚Äôkin.<br><br>
                    Gusto ko lang gumawa ng something special for you. Sana hindi mo isipin na joke
                    ‚Äòto, kasi totoo ‚Äòtong nararamdaman ko.
                    I just really admire you, your smile, the way you carry yourself, and how
                    you seem so kind kahit tahimik ka lang minsan.<br><br>
                    If okay lang sa‚Äôyo, sana maging friends muna tayo. No pressure,
                    I just wanted you to know how I feel.<br><br>
                    Thank you sa pagbasa, and sorry kung medyo awkward then sorry for using your
                    photo and birth date without permission. üòÖ<br><br>
                    ‚Äì <strong>Rosh</strong>
                  </p>
                </div>
              </div>
            </div>
          </div>
          <div class="sparkle-container" id="sparkleContainer"></div>
          <p class="envelope-instruction">üíå Click the envelope to open üí´</p>
        </div>
      </div>

      <!-- Music Tab -->
      <div class="tab-content" id="music">
        <h2>Songs that remind me of you</h2>
        <div class="song" data-audio="djpo.mp3">
          <div class="song-icon">üéµ</div>
          <div class="song-info">
            <h4>Hanggang Kailan</h4>
            <p>by Daniel Padilla</p>
          </div>
        </div>
        <div class="song" data-audio="thoseeyes.mp3">
          <div class="song-icon">üéµ</div>
          <div class="song-info">
            <h4>Those Eyes</h4>
            <p>by New West</p>
          </div>
        </div>
        <div class="song" data-audio="oceaneyes.mp3">
          <div class="song-icon">üéµ</div>
          <div class="song-info">
            <h4>Ocean Eyes</h4>
            <p>by Billie Eilish</p>
          </div>
        </div>
        <div class="song" data-audio="iwannabeyours.mp3">
          <div class="song-icon">üéµ</div>
          <div class="song-info">
            <h4>I Wanna Be Yours</h4>
            <p>by Arctic Monkeys</p>
          </div>
        </div>
        <div class="song" data-audio="illbe.mp3">
          <div class="song-icon">üéµ</div>
          <div class="song-info">
            <h4>I'll Be</h4>
            <p>by Edwin McCain</p>
          </div>
        </div>
      </div>

      <!-- Notes Tab -->
      <div class="tab-content" id="notes">
        <h2>Some reminders</h2>
        <div class="note">
          <p>Take care always</p>
        </div>
        <div class="note">
          <p>Eat on time</p>
        </div>
        <div class="note">
          <p>You're mine.. always lang ha</p>
        </div>
      </div>

      <!-- Optional: comment box -->
      <div class="comment-box">
        <input type="text" id="commentInput" placeholder="Leave a message...">
        <input type="text" id="fromInput" placeholder="From...">
        <button id="commentBtn">Send</button>
      </div>
      <div class="comment-list" id="commentList"></div>

      <!-- Gallery Tab -->
      <div class="tab-content" id="gallery">
        <h2>Flowers for you</h2>
        <div class="gallery">
          <div class="gallery-item">
            <img
              src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/1eaad721-3375-4d97-a5fa-cbf8a87d60b8.png"
              alt="Bouquet of delicate pink roses with soft green leaves">
          </div>
          <div class="gallery-item">
            <img
              src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/73632299-5dde-4ded-805a-88a7dcb4b5e4.png"
              alt="Beautiful pink tulips in a glass vase with morning dew">
          </div>
          <div class="gallery-item">
            <img
              src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/e9890063-b481-46f6-97a1-9fc753211e19.png"
              alt="Fluffy pink peony flowers with lush foliage">
          </div>
          <div class="gallery-item">
            <img
              src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/4bc3dffd-4971-4223-b7e4-3699d2b97bbe.png"
              alt="Branch of pink cherry blossoms against a blue sky">
          </div>
          <div class="gallery-item">
            <img
              src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/d0daff3c-1751-492b-9b74-de28ac48d384.png"
              alt="Cluster of light pink carnations with delicate petals">
          </div>
          <div class="gallery-item">
            <img
              src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/51f3ca74-2471-403f-bb99-751536acd7d9.png"
              alt="Vibrant pink azalea flowers covering a garden bush">
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Decorative elements -->
  <!-- üíñ TOP LEFT SIDE -->
  <div class="heart" style="top:10%; left:5%; --i:1;">‚ù§Ô∏è</div>
  <div class="heart" style="top:18%; left:12%; --i:2;">üíñ</div>
  <div class="teddy-bear" style="top:22%; left:8%; --i:3;">üß∏</div>
  <div class="heart" style="top:28%; left:15%; --i:4;">üíû</div>

  <!-- üíñ TOP RIGHT SIDE -->
  <div class="heart" style="top:12%; right:5%; --i:5;">üíò</div>
  <div class="heart" style="top:20%; right:10%; --i:6;">üíì</div>
  <div class="teddy-bear" style="top:25%; right:8%; --i:7;">üß∏</div>
  <div class="heart" style="top:30%; right:15%; --i:8;">üíó</div>

  <!-- üíñ BOTTOM LEFT SIDE -->
  <div class="heart" style="bottom:12%; left:8%; --i:9;">üíû</div>
  <div class="heart" style="bottom:18%; left:12%; --i:10;">‚ù§Ô∏è</div>
  <div class="teddy-bear" style="bottom:10%; left:5%; --i:11;">üß∏</div>
  <div class="heart" style="bottom:25%; left:15%; --i:12;">üíì</div>

  <!-- üíñ BOTTOM RIGHT SIDE -->
  <div class="heart" style="bottom:12%; right:8%; --i:13;">üíñ</div>
  <div class="heart" style="bottom:20%; right:12%; --i:14;">üíó</div>
  <div class="teddy-bear" style="bottom:15%; right:5%; --i:15;">üß∏</div>
  <div class="heart" style="bottom:25%; right:15%; --i:16;">üíò</div>



  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js"></script>
  <script type="module">
    // Firebase imports
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-analytics.js";
    import {
      getFirestore, collection, addDoc, onSnapshot,
      query, orderBy, serverTimestamp, deleteDoc, doc
    } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-firestore.js";

    // Firebase config
    const firebaseConfig = {
      apiKey: "AIzaSyDgfwPyiJWemClcF411-skY-BBq3fB0xMU",
      authDomain: "formylove-113e8.firebaseapp.com",
      projectId: "formylove-113e8",
      storageBucket: "formylove-113e8.appspot.com",
      messagingSenderId: "1092529179077",
      appId: "1:1092529179077:web:46242d99edab7b0d06a3ac",
      measurementId: "G-T4WDHM52Z7"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const db = getFirestore(app);

    // DOM Elements
    const commentBtn = document.getElementById('commentBtn');
    const commentInput = document.getElementById('commentInput');
    const commentList = document.getElementById('commentList');

    // Save comment
    commentBtn.addEventListener('click', async () => {
      const message = commentInput.value.trim();
      const from = document.getElementById('fromInput').value.trim();

      if (message !== "" && from !== "") {
        await addDoc(collection(db, "comments"), {
          text: message,
          from: from,
          desc: new Date().toLocaleString(),
          timestamp: serverTimestamp()
        });
        commentInput.value = "";
        document.getElementById('fromInput').value = "";
      }
    });

    // Listen for real-time comments
    const q = query(collection(db, "comments"), orderBy("timestamp", "desc"));
    onSnapshot(q, (snapshot) => {
      commentList.innerHTML = "";
      const commentsArray = snapshot.docs;
      const oldestCommentId = commentsArray[commentsArray.length - 1]?.id;

      commentsArray.forEach((docSnap) => {
        const data = docSnap.data();

        const div = document.createElement('div');
        div.classList.add('comment-item');

        const p = document.createElement('p');
        p.textContent = data.text;

        const from = document.createElement('small');
        from.textContent = data.from ? `‚Äî ${data.from}` : "";

        const desc = document.createElement('div');
        desc.textContent = data.desc || "No timestamp";
        desc.classList.add('time');

        if (docSnap.id !== oldestCommentId) {
          const delBtn = document.createElement('button');
          delBtn.textContent = "‚ùå";
          delBtn.style.alignSelf = "flex-end";
          delBtn.style.border = "none";
          delBtn.style.background = "transparent";
          delBtn.style.cursor = "pointer";
          delBtn.style.fontSize = "14px";
          delBtn.style.marginTop = "2px";

          delBtn.addEventListener('click', async () => {
            await deleteDoc(doc(db, "comments", docSnap.id));
          });

          div.appendChild(delBtn);
        }

        div.appendChild(p);
        div.appendChild(from);
        div.appendChild(desc);
        commentList.appendChild(div);
      });
    });


  </script>
  <script src="./assets/js/script.js"></script>
  <script>
    const mailContainer = document.getElementById("mailContainer");
    const envelope = document.getElementById("envelope");
    const sparkleContainer = document.getElementById("sparkleContainer");

    // üé∂ Sound effect setup
    const openSound = new Audio("open.mp3"); // <-- Replace with your sound file name
    openSound.volume = 0.7; // Adjust volume (0.0 - 1.0)

    mailContainer.addEventListener("click", () => {
      const isOpening = !envelope.classList.contains("mail-open"); // check if opening

      envelope.classList.toggle("mail-open");

      // Play sound only when opening
      if (isOpening) {
        openSound.currentTime = 0;
        openSound.play();

        // Release sparkles only when opening
        for (let i = 0; i < 25; i++) {
          const sparkle = document.createElement("span");
          sparkle.classList.add("sparkle");

          const emojis = ["‚ú®", "üí´", "üå∏", "üå∑", "‚≠ê", "üíñ"];
          sparkle.textContent = emojis[Math.floor(Math.random() * emojis.length)];

          sparkle.style.left = Math.random() * 100 + "%";
          sparkle.style.top = "0";
          sparkle.style.animationDelay = `${Math.random() * 0.5}s`;

          sparkleContainer.appendChild(sparkle);
          setTimeout(() => sparkle.remove(), 2000);
        }
      }
    });

  </script>

</body>

</html>